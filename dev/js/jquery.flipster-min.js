!function(t,e,n){"use strict";function i(t,e){var n=null;return function(){var i=this,a=arguments;null===n&&(n=setTimeout(function(){t.apply(i,a),n=null},e))}}var a,r=(a={},function(t){if(a[t]!==n)return a[t];var e=document.createElement("div").style,i=t.charAt(0).toUpperCase()+t.slice(1),r=(t+" "+["webkit","moz","ms","o"].join(i+" ")+i).split(" ");for(var s in r)if(r[s]in e)return a[t]=r[s];return a[t]=!1}),s="http://www.w3.org/2000/svg",o=function(){var t;return function(){if(t!==n)return t;var e=document.createElement("div");return e.innerHTML="<svg/>",t=e.firstChild&&e.firstChild.namespaceURI===s}}(),l=t(e),c=r("transform"),u={itemContainer:"ul",itemSelector:"li",start:"center",fadeIn:400,loop:!1,autoplay:!1,pauseOnHover:!0,style:"coverflow",spacing:-.6,click:!0,keyboard:!0,scrollwheel:!0,touch:!0,nav:!1,buttons:!1,buttonPrev:"Previous",buttonNext:"Next",onItemSwitch:!1},f={main:"flipster",active:"flipster--active",container:"flipster__container",nav:"flipster__nav",navChild:"flipster__nav__child",navItem:"flipster__nav__item",navLink:"flipster__nav__link",navCurrent:"flipster__nav__item--current",navCategory:"flipster__nav__item--category",navCategoryLink:"flipster__nav__link--category",button:"flipster__button",buttonPrev:"flipster__button--prev",buttonNext:"flipster__button--next",item:"flipster__item",itemCurrent:"flipster__item--current",itemPast:"flipster__item--past",itemFuture:"flipster__item--future",itemContent:"flipster__item__content"},p=new RegExp("\\b("+f.itemCurrent+"|"+f.itemPast+"|"+f.itemFuture+")(.*?)(\\s|$)","g"),v=new RegExp("\\s\\s+","g");t.fn.flipster=function(e){if("string"==typeof e){var a=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=t(this).data("methods");return n[e]?n[e].apply(this,a):this})}var r=t.extend({},u,e);return this.each(function(){var e,a,u,h,d,m,g,_,y,b=t(this),x=[],w=0,C=!1,k=!1;function I(e){return e=e||"next",t('<button class="'+f.button+" "+("next"===e?f.buttonNext:f.buttonPrev)+'" role="button" />').html(function(t){var e="next"===t?r.buttonNext:r.buttonPrev;return"custom"!==r.buttons&&o?'<svg viewBox="0 0 13 20" xmlns="'+s+'" aria-labelledby="title"><title>'+e+'</title><polyline points="10,3 3,10 10,17"'+("next"===t?' transform="rotate(180 6.5,10)"':"")+"/></svg>":e}(e)).on("click",function(t){E(e),t.preventDefault()})}function P(){b.css("transition",""),a.css("transition",""),d.css("transition","")}function L(e){var n,i;e&&(b.css("transition","none"),a.css("transition","none"),d.css("transition","none")),u=a.width(),a.height((i=0,d.each(function(){(n=t(this).height())>i&&(i=n)}),i)),u?(h&&(clearInterval(h),h=!1),d.each(function(n){var i,a,s=t(this);s.attr("class",function(t,e){return e&&e.replace(p,"").replace(v," ")}),i=s.outerWidth(),0!==r.spacing&&s.css("margin-right",i*r.spacing+"px"),a=s.position().left,x[n]=-1*(a+i/2-u/2),n===d.length-1&&(D(),e&&setTimeout(P,1))})):h=h||setInterval(function(){L(e)},500)}function D(){var e,i,s,o=d.length;d.each(function(n){e=t(this),i=" ",n===w?(i+=f.itemCurrent,s=o+1):n<w?(i+=f.itemPast+" "+f.itemPast+"-"+(w-n),s=o-(w-n)):(i+=f.itemFuture+" "+f.itemFuture+"-"+(n-w),s=o-(n-w)),e.css("z-index",s).attr("class",function(t,e){return e&&e.replace(p,"").replace(v," ")+i})}),w>=0&&(u&&x[w]!==n||L(!0),c?a.css("transform","translateX("+x[w]+"px)"):a.css({left:x[w]+"px"})),function(){if(r.nav){var e=m.data("flip-category");_.removeClass(f.navCurrent),y.filter(function(){return t(this).data("index")===w||e&&t(this).data("category")===e}).parent().addClass(f.navCurrent)}}()}function E(t){var e=w;if(!(d.length<=1))return"prev"===t?w>0?w--:r.loop&&(w=d.length-1):"next"===t?w<d.length-1?w++:r.loop&&(w=0):"number"==typeof t?w=t:t!==n&&(w=d.index(t),r.loop&&e!=w&&(e==d.length-1&&w!=d.length-2&&(w=0),0==e&&1!=w&&(w=d.length-1))),m=d.eq(w),w!==e&&r.onItemSwitch&&r.onItemSwitch.call(b,d[w],d[e]),D(),b}function M(t){return r.autoplay=t||r.autoplay,clearInterval(C),C=setInterval(function(){var t=w;E("next"),t!==w||r.loop||clearInterval(C)},r.autoplay),b}function T(){return clearInterval(C),C=0,b}function X(t){return T(),r.autoplay&&t&&(C=-1),b}function j(){L(!0),b.hide().css("visibility","").addClass(f.active).fadeIn(r.fadeIn)}function N(){var e;if(a=b.find(r.itemContainer).addClass(f.container),!((d=a.find(r.itemSelector)).length<=1))return d.addClass(f.item).each(function(){var e=t(this);e.children("."+f.itemContent).length||e.wrapInner('<div class="'+f.itemContent+'" />')}),r.click&&d.on("click.flipster touchend.flipster",function(e){k||(t(this).hasClass(f.itemCurrent)||e.preventDefault(),E(this))}),r.buttons&&d.length>1&&(b.find("."+f.button).remove(),b.append(I("prev"),I("next"))),e={},!r.nav||d.length<=1||(g&&g.remove(),g=t('<ul class="'+f.nav+'" role="navigation" />'),y=t(""),d.each(function(n){var i=t(this),a=i.data("flip-category"),r=i.data("flip-title")||i.attr("title")||n,s=t('<a href="#" class="'+f.navLink+'">'+r+"</a>").data("index",n);if(y=y.add(s),a){if(!e[a]){var o=t('<li class="'+f.navItem+" "+f.navCategory+'">'),l=t('<a href="#" class="'+f.navLink+" "+f.navCategoryLink+'" data-flip-category="'+a+'">'+a+"</a>").data("category",a).data("index",n);e[a]=t('<ul class="'+f.navChild+'" />'),y=y.add(l),o.append(l,e[a]).appendTo(g)}e[a].append(s)}else g.append(s);s.wrap('<li class="'+f.navItem+'">')}),g.on("click","a",function(e){var n=t(this).data("index");n>=0&&(E(n),e.preventDefault())}),"after"===r.nav?b.append(g):b.prepend(g),_=g.find("."+f.navItem)),w>=0&&E(w),b}e={jump:E,next:function(){return E("next")},prev:function(){return E("prev")},play:M,stop:T,pause:X,index:N},b.data("methods",e),b.hasClass(f.active)||function(){var t;if(b.css("visibility","hidden"),N(),d.length<=1)b.css("visibility","");else{t=!!r.style&&"flipster--"+r.style.split(" ").join(" flipster--"),b.addClass([f.main,c?"flipster--transform":" flipster--no-transform",t,r.click?"flipster--click":""].join(" ")),r.start&&(w="center"===r.start?Math.floor(d.length/2):r.start),E(w);var e,n=b.find("img");if(n.length){var s=0;n.on("load",function(){++s>=n.length&&j()}),setTimeout(j,750)}else j();l.on("resize.flipster",i(L,400)),r.autoplay&&M(),r.pauseOnHover&&a.on("mouseenter.flipster",function(){C?X(!0):T()}).on("mouseleave.flipster",function(){-1===C&&M()}),e=b,r.keyboard&&(e[0].tabIndex=0,e.on("keydown.flipster",i(function(t){var e=t.which;37!==e&&39!==e||(E(37===e?"prev":"next"),t.preventDefault())},250))),function(t){if(r.scrollwheel){var e,n,a=!1,s=0,o=0,c=0,u=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase());t.on("mousewheel.flipster wheel.flipster",function(){a=!0}).on("mousewheel.flipster wheel.flipster",i(function(t){clearTimeout(o),o=setTimeout(function(){s=0,c=0},300),t=t.originalEvent,c+=t.wheelDelta||-1*(t.deltaY+t.deltaX),Math.abs(c)<25&&!u||(s++,n!==(e=c>0?"prev":"next")&&(s=0),n=e,(s<6||s%3==0)&&E(e),c=0)},50)),l.on("mousewheel.flipster wheel.flipster",function(t){a&&(t.preventDefault(),a=!1)})}}(a),function(t){var e,n,i,a,s,o;r.touch&&t.on({"touchstart.flipster":function(t){t=t.originalEvent,e=t.touches?t.touches[0].clientX:t.clientX,n=t.touches?t.touches[0].clientY:t.clientY},"touchmove.flipster":function(t){t=t.originalEvent,i=t.touches?t.touches[0].clientX:t.clientX,a=t.touches?t.touches[0].clientY:t.clientY,o=i-e,s=a-n,Math.abs(o)>30&&Math.abs(s)<100&&t.preventDefault()},"touchend.flipster touchcancel.flipster ":function(){o=i-e,s=a-n,Math.abs(o)>30&&Math.abs(s)<100&&E(o>0?"prev":"next")}})}(a)}}()})}}(jQuery,window);