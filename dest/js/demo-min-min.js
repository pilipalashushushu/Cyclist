{const t={lineEq:(t,e,s,i,o)=>{const n=(t-e)/(s-i);return n*o+(e-n*i)},lerp:(t,e,s)=>(1-s)*t+s*e,getRandomFloat:(t,e)=>(Math.random()*(e-t)+t).toFixed(2)},s=document.body,i=document.documentElement;let o;const n=()=>o={width:window.innerWidth,height:window.innerHeight};n(),window.addEventListener("resize",n);const l=t=>{let o=0,n=0;return t||(e=window.event),t.pageX||t.pageY?(o=t.pageX,n=t.pageY):(t.clientX||t.clientY)&&(o=t.clientX+s.scrollLeft+i.scrollLeft,n=t.clientY+s.scrollTop+i.scrollTop),{x:o,y:n}};let r={x:o.width/2,y:o.height/2};window.addEventListener("mousemove",t=>r=l(t));let a={columns:!0,letters:!0};class c{constructor(t){this.DOM={el:t},this.DOM.circle=this.DOM.el.querySelector(".cursor__inner--circle"),this.bounds=this.DOM.circle.getBoundingClientRect(),this.lastMousePos={x:0,y:0},this.scale=1,this.lastScale=1,this.lastY=0,requestAnimationFrame(()=>this.render())}render(){this.lastMousePos.x=t.lerp(this.lastMousePos.x,r.x-this.bounds.width/2,.15),this.lastMousePos.y=t.lerp(this.lastMousePos.y,r.y-this.bounds.height/2,.15),this.direction=this.lastY-r.y>0?"up":"down",this.lastScale=t.lerp(this.lastScale,this.scale,.15),this.DOM.circle.style.transform=`translateX(${this.lastMousePos.x}px) translateY(${this.lastMousePos.y}px) scale(${this.lastScale})`,this.lastY=r.y,requestAnimationFrame(()=>this.render())}enter(){this.scale=1.5}leave(){this.scale=1}click(){this.lastScale=.4}}class h{constructor(t){this.DOM={el:t};const e=this.DOM.el.getBoundingClientRect();this.height=e.height,this.isBottom=this.DOM.el.classList.contains("column--bottom"),this.tilt()}tilt(){let e={tx:0,ty:0};const s=t.getRandomFloat(5,20),i=this.isBottom?t.getRandomFloat(10,30):t.getRandomFloat(30,80),n=this.isBottom?t.getRandomFloat(30,80):t.getRandomFloat(10,30),l=()=>{a.columns?(e.tx=t.lerp(e.tx,t.lineEq(-s,s,o.width,0,r.x),.03),e.ty=t.lerp(e.ty,t.lineEq(this.isBottom?-i:n,this.isBottom?n:-i,o.height,0,r.y),.03),TweenMax.set(this.DOM.el,{x:e.tx,y:e.ty,rotation:.01})):e={tx:0,ty:0},requestAnimationFrame(l)};requestAnimationFrame(l)}}class m{constructor(t){this.DOM={el:t},this.DOM.title=this.DOM.el.querySelector(".item__content-title"),charming(this.DOM.title),this.DOM.titleLetters=[...this.DOM.title.querySelectorAll("span")],this.titleLettersTotal=this.DOM.titleLetters.length,this.DOM.backCtrl=this.DOM.el.querySelector(".item__content-back"),this.initEvents()}initEvents(){this.DOM.backCtrl.addEventListener("click",t=>{t.preventDefault(),v.closeItem()})}setCurrent(){this.DOM.el.classList.add("item--current")}resetCurrent(){this.DOM.el.classList.remove("item--current")}}class u{constructor(e){this.DOM={el:e},charming(this.DOM.el),this.DOM.letters=[...this.DOM.el.querySelectorAll("span")],this.lettersTotal=this.DOM.letters.length,this.totalRandomLetters=3,this.totalRandomLetters=this.totalRandomLetters<=this.lettersTotal?this.totalRandomLetters:this.lettersTotal,this.lettersTranslations=Array.from({length:this.totalRandomLetters},e=>{const s=t.getRandomFloat(10,50);return[-s,s]}),this.lettersRotations=Array.from({length:this.totalRandomLetters},e=>{const s=t.getRandomFloat(0,6);return[-s,s]}),this.initEvents()}initEvents(){this.mouseenterFn=(t=>{const e=[...this.DOM.letters].sort(()=>.5-Math.random());this.DOM.randLetters=e.slice(0,this.totalRandomLetters)}),this.mousemoveFn=(t=>requestAnimationFrame(()=>this.tilt(t))),this.mouseleaveFn=(t=>this.resetTilt()),this.DOM.el.addEventListener("mouseenter",this.mouseenterFn),this.DOM.el.addEventListener("mousemove",this.mousemoveFn),this.DOM.el.addEventListener("mouseleave",this.mouseleaveFn)}tilt(e){if(!a.letters)return;const o=s.scrollLeft+i.scrollLeft,n=s.scrollTop+i.scrollTop,l=this.DOM.el.getBoundingClientRect(),c={x:r.x-l.left-o,y:r.y-l.top-n};for(const[e,s]of this.DOM.randLetters.entries())TweenMax.to(s,3,{ease:Expo.easeOut,y:t.lineEq(this.lettersTranslations[e][1],this.lettersTranslations[e][0],l.height,0,c.y),rotation:t.lineEq(this.lettersRotations[e][1],this.lettersRotations[e][0],l.height,0,c.y)})}resetTilt(){a.letters&&(new TimelineMax).to(this.DOM.randLetters,.2,{ease:Quad.easeOut,y:"up"===g.direction?"-=80%":"+=80",rotation:"up"===g.direction?"-=10":"+=10",opacity:0},0).staggerTo(this.DOM.randLetters,t.getRandomFloat(.5,.7),{ease:Elastic.easeOut.config(1,.4),startAt:{y:"up"===g.direction?"80%":"-80%",opacity:0},y:"0%",rotation:0,opacity:1},.02,.2)}}class d{constructor(t){this.DOM={el:t},this.DOM.items=document.querySelectorAll(".menu > .menu__item"),this.menuItems=Array.from(this.DOM.items,t=>new u(t)),this.initEvents()}initEvents(){for(let t of this.menuItems)t.DOM.el.addEventListener("click",()=>this.openItem(t))}openItem(e){if(this.isAnimating)return;this.isAnimating=!0,this.currentItem=this.menuItems.indexOf(e);const s=M[this.currentItem];s.setCurrent(),a.columns=!1,a.letters=!1;const i=new Ease(BezierEasing(1,0,.735,.775));this.openItemTimeline=new TimelineMax({onComplete:()=>this.isAnimating=!1}).staggerTo(D,1.2,{ease:i,cycle:{y:(t,e)=>e.classList.contains("column--bottom")?E[t].height+.2*o.height:-1*E[t].height-.2*o.height},opacity:0},0,0).to(p,1.2,{ease:i,rotation:-2},0).staggerTo(e.DOM.letters,.84,{ease:i,cycle:{y:(e,s)=>e%2==0?t.getRandomFloat(-250,-150):t.getRandomFloat(150,250)},rotation:`+=${t.getRandomFloat(0,20)}`,opacity:0},-.01,0).to(this.menuItems.filter(t=>t!=e).map(t=>t.DOM.el),.6,{ease:i,opacity:0},0).to(y.first,.96,{ease:Expo.easeOut,y:"100%"},1.2+0*L).to(O,.96,{ease:Expo.easeOut,y:"-100%"},1.2+0*L).set(s.DOM.titleLetters,{opacity:0},1.2+0*L).staggerTo(s.DOM.titleLetters,1.2,{ease:Expo.easeOut,startAt:{cycle:{y:(e,s)=>e%2==0?t.getRandomFloat(-35,-15):t.getRandomFloat(15,35),rotation:t.getRandomFloat(-20,0)}},y:0,rotation:0,opacity:1},-.01,1.2+0*L)}closeItem(){if(this.isAnimating)return;this.isAnimating=!0;const e=M[this.currentItem],s=Sine.easeOut;this.openItemTimeline=new TimelineMax({onComplete:()=>{a.columns=!0,a.letters=!0,this.isAnimating=!1}}).staggerTo(e.DOM.titleLetters,.6,{ease:new Ease(BezierEasing(.775,.05,.87,.465)),cycle:{y:(e,s)=>e%2==0?t.getRandomFloat(-35,-15):t.getRandomFloat(15,35),rotation:t.getRandomFloat(-20,0)},opacity:0},.01,0).to([y.first,O],.6,{ease:new Ease(BezierEasing(.775,.05,.87,.465)),y:"0%",onComplete:()=>{e.resetCurrent()}},.2).staggerTo(D,1,{ease:s,y:0,x:0,opacity:1},.02,.6).to(p,1,{ease:s,rotation:0},.6).to(this.menuItems[this.currentItem].DOM.letters,.6,{ease:Quint.easeOut,y:0,opacity:1,rotation:0},1).to(this.DOM.items,.6,{ease:s,opacity:1},1)}}const g=new c(document.querySelector(".cursor")),y={first:document.querySelector(".content--first"),second:document.querySelector(".content--second")},M=Array.from(y.second.querySelectorAll(".item"),t=>new m(t)),O=y.first.querySelector(".content__move"),p=document.querySelector(".columns"),D=p.querySelectorAll(".column"),L=D.length;let E;const v=new d(y.second.querySelector(".menu"));[...document.querySelectorAll("a")].forEach(t=>{t.addEventListener("mouseenter",()=>g.enter()),t.addEventListener("mouseleave",()=>g.leave())}),document.addEventListener("click",()=>g.click()),imagesLoaded(document.querySelectorAll(".column__img"),{background:!0},()=>{E=Array.from(D,t=>new h(t)),document.body.classList.remove("loading")})}