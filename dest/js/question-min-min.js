function init(){askQuestion()}function askQuestion(){$(window).width()>768?main():rwdMain()}var background=["questionBGI.png","questionBGI2.png","questionBGIDark.png"],questions=[["1.請問腳踏車的日常保養要使用什麼油?","鍊條油","汽油","橄欖油"],["2.下列何者不是腳踏車的安全配備?"," 車鈴","車燈","火箭筒"],["3.下列何者配戴時，可以保護我們頭部?","手套","安全帽","大衣"],["4.超越前車時應使用何種方式提醒?","車鈴","按喇叭","喊叫"],["5.夜晚騎腳踏車時，通常會在車架上加什麼以策安全?","菜籃","反光板","旗子"]],ans=["鍊條油","火箭筒","安全帽","車鈴","反光板"],img=[["ChainOil.png","gasoline.png","oliveOil.png"],["carBell.png","carLight.png","carPegs.png"],["gloves.png","helmet.png","coat.png"],["carBell.png","horn.png","Shouting.png"],["basket.png","carLight.png","flag.png"]],count=0;function main(){$("#question").text(questions[count][0]),$("#ans1 img").attr("src",`./images/${img[count][0]}`),$("#ans2 img").attr("src",`./images/${img[count][1]}`),$("#ans3 img").attr("src",`./images/${img[count][2]}`),$("#ans1 p").text(questions[count][1]),$("#ans2 p").text(questions[count][2]),$("#ans3 p").text(questions[count][3]),$(".box").click(function(){$(this).find("p").text()==ans[count]?rightOut():wrongOut()}),bikeIn()}function pcEnd(){++count<5?main():(score(),$(".scoreWindow").css("pointerEvents","auto"))}function score(){new TimelineMax({}).to(".scoreWindow",.5,{css:{opacity:1}})}function bike(){TweenMax.to(".bw",1,{repeat:-1,rotation:360,ease:Power0.easeNone}),TweenMax.to(".fw",1,{repeat:-1,rotation:360,ease:Power0.easeNone}),TweenMax.to(".bike",1.5,{x:screen.width-420,ease:Power0.easeNone})}function bikeIn(){bike(),new TimelineMax({}).to(".qa",1,{css:{opacity:1}}).to(".ans1",.5,{delay:.3,css:{opacity:1}}).to(".ans2",.5,{delay:.3,css:{opacity:1}}).to(".ans3",.5,{delay:.3,css:{opacity:1}}).to(".bw",.1,{rotation:0}).to(".fw",.1,{rotation:0})}function rightBoxShow(){new TimelineMax({}).to(".rightBox",2,{css:{opacity:1,delay:.5}}).to(".rightBox",1,{css:{delay:.5,opacity:0}})}function rightOut(){new TimelineMax({}).to(".rightBox",1,{css:{onComplete:rightBoxShow,opacity:0}}).to(".qa",.3,{css:{opacity:0}}).to(".fw",.5,{delay:1,rotation:360,repeat:-1,ease:Power0.easeNone}).to(".bw",.5,{repeat:-1,rotation:360,ease:Power0.easeNone}).to(".ans1",.3,{css:{opacity:0}}).to(".ans2",.2,{css:{opacity:0}}).to(".ans3",.1,{css:{opacity:0}}).to(".bike",1,{x:2500,y:0,opacity:0}).to(".bike",1,{opacity:1,startAt:{x:300},onComplete:pcEnd})}function wrongBoxShow(){new TimelineMax({}).to(".wrongBox",2,{css:{opacity:1,delay:.5}}).to(".wrongBox",1,{css:{delay:.5,opacity:0}})}function wrongOut(){new TimelineMax({}).to(".wrongBox",1,{css:{onComplete:wrongBoxShow,opacity:0}}).to(".qa",.3,{css:{opacity:0}}).to(".ans1",.3,{css:{opacity:0}}).to(".ans2",.3,{css:{opacity:0}}).to(".ans3",.3,{css:{opacity:0}}).to(".fw",.2,{delay:.2,rotation:360,ease:Power0.easeNone,repeat:-1}).to(".bw",.2,{repeat:-1,rotation:360,ease:Power0.easeNone}).to(".bike",1,{x:2500,y:0,opacity:0}).to(".bike",1,{opacity:1,startAt:{x:300},onComplete:pcEnd})}function rwdMain(){$("#question").text(questions[count][0]),$("#ans1 img").attr("src",`./images/${img[count][0]}`),$("#ans2 img").attr("src",`./images/${img[count][1]}`),$("#ans3 img").attr("src",`./images/${img[count][2]}`),$("#ans1 p").text(questions[count][1]),$("#ans2 p").text(questions[count][2]),$("#ans3 p").text(questions[count][3]),$(".box").click(function(){$(this).find("p").text()==ans[count]?rightOut2():wrongOut2()}),mbikeIn()}function phoneEnd(){++count<5?rwdMain():(score(),$(".scoreWindow").css("pointerEvents","auto"))}function mbike(){TweenMax.to(".bw",1,{repeat:-1,rotation:360,ease:Power0.easeNone}),TweenMax.to(".fw",1,{repeat:-1,rotation:360,ease:Power0.easeNone}),TweenMax.to(".bike",1.5,{x:580,y:0,ease:Power0.easeNone})}function mbikeIn(){mbike(),new TimelineMax({}).to(".qa",1,{css:{opacity:1}}).to(".ans1",.5,{delay:.3,css:{opacity:1}}).to(".ans2",.5,{delay:.3,css:{opacity:1}}).to(".ans3",.5,{delay:.3,css:{opacity:1}}).to(".bw",.1,{rotation:0}).to(".fw",.1,{rotation:0})}function rightOut2(){new TimelineMax({}).to(".rightBox",1,{css:{onComplete:rightBoxShow,opacity:0}}).to(".qa",.3,{css:{opacity:0}}).to(".fw",.5,{delay:1,rotation:360,repeat:-1,ease:Power0.easeNone}).to(".bw",.5,{repeat:-1,rotation:360,ease:Power0.easeNone}).to(".ans1",.3,{css:{opacity:0}}).to(".ans2",.2,{css:{opacity:0}}).to(".ans3",.1,{css:{opacity:0}}).to(".bike",1,{x:1e3,y:0,opacity:0}).to(".bike",1,{opacity:1,startAt:{x:100},onComplete:phoneEnd})}function wrongOut2(){new TimelineMax({}).to(".wrongBox",1,{css:{onComplete:wrongBoxShow,opacity:0}}).to(".qa",.3,{css:{opacity:0}}).to(".ans1",.3,{css:{opacity:0}}).to(".ans2",.3,{css:{opacity:0}}).to(".ans3",.3,{css:{opacity:0}}).to(".fw",.2,{delay:.2,rotation:360,ease:Power0.easeNone,repeat:-1}).to(".bw",.2,{repeat:-1,rotation:360,ease:Power0.easeNone}).to(".bike",1,{x:1e3,y:0,opacity:0}).to(".bike",1,{opacity:1,startAt:{x:100},onComplete:phoneEnd})}count=0,window.addEventListener("load",init);